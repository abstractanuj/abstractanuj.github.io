<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typographic Hacker News</title>
    <link rel="stylesheet" href="index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Sora:wght@400;600&display=swap" rel="stylesheet" preload>
<link rel="stylesheet" href="/index.css">
</head>
<body>
    <div id="preloader">
        <div class="brewing-loader">
            <span class="brewing-text">brewing...</span>
            <div class="brewing-dots">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
        </div>
    </div>

    <div id="app-wrapper">
        <header>
            <div class="header-content">
                <div class="header-main">
                    <h1>The HN Times</h1>
                    <div class="header-meta">
                        <span id="header-date"></span>
                        <span id="header-time"></span>
                        <span id="header-weather"></span>
                    </div>
                </div>
            </div>
        </header>

        <nav class="controls-bar">
            <div class="filters-container">
                <div class="story-categories">
                    <button class="active" data-category="topstories">Top</button>
                    <button data-category="newstories">New</button>
                    <button data-category="beststories">Best</button>
                    <button data-category="askstories">Ask</button>
                    <button data-category="showstories">Show</button>
                    <button data-category="jobstories">Jobs</button>
                </div>
                <div id="sub-filters" class="story-sorters" hidden>
                    <button class="active" data-sort="default">Top</button>
                    <button data-sort="new">Newest</button>
                    <button data-sort="score">Score</button>
                    <button data-sort="comments">Comments</button>
                </div>
            </div>
            <div class="search-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                <input type="search" id="search-input" placeholder="Search stories..." aria-label="Search all stories">
            </div>
        </nav>

        <main id="app-container">
            <div id="stories-grid"></div>
            <div id="infinite-scroll-loader" hidden>
                 <div class="brewing-loader">
                    <div class="brewing-dots">
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                    </div>
                </div>
            </div>
            <div id="scroll-sentinel"></div>
        </main>
        
    </div>

    <footer>
        A TYPOGRAPHIC READER imagined by Anuj
    </footer>

    <div id="comments-overlay" class="comments-overlay" hidden>
        <div class="comments-overlay-header">
             <div class="header-controls-left">
                <button class="back-button" id="overlay-back-btn" aria-label="Back">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
                </button>
                <span class="header-title" id="overlay-header-title">Comments</span>
            </div>
            <button id="overlay-close-btn" aria-label="Close comments view">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                <span>Close</span>
            </button>
        </div>
        <div class="comments-overlay-content">
            <div id="overlay-story-details"></div>
            <div id="overlay-comments-container"></div>
            <div id="comments-scroll-sentinel" style="height: 1px;"></div>
            <div id="comments-infinite-loader" hidden>
                 <div class="brewing-loader" style="padding: 2rem 0;">
                    <div class="brewing-dots">
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <button id="back-to-top-btn" title="Go to top">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"></polyline></svg>
    </button>

    <script src="index.js"></script>
<script type="module" src="/index.tsx"></script>
</body>
</html>